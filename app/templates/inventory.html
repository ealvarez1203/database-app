{% extends "layout.html" %}
{% block body %}
    <h2>Inventory</h2><br>
    <script type="text/javascript" src="{{ url_for('static', filename='jquery.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='dynamicFilter.js') }}"></script>


    <em> Type here to Filter:  </em> <input type="text" id="search" placeholder="keywords" size=30>
    <br><br>
    <table id="table" class="table table-striped">
       <th>PR</th>
       <th>PO</th>
       <th>Part</th>
       <th>Project</th>
       <th>Requester</th>
       <th>Supplier</th>
       <th>Item Description</th>
       <th>CPN</th>
       <th>PID</th>
       <th>MFG Part#</th>
       <th>Qty</th>
       <th>Times Used</th>
       <th>Status</th>

       {% for part in parts %}
        <tr>
            <td> {{part.PR}} </td>
            <td> {{part.PO}} </td>
            <td><a href="{{ url_for('show_part_info', id=part.id) }}">{{part.part}}</a></td>
            <td> {{part.project_name}} </td>
            <td> {{part.requestor}} </td>
            <td> {{part.supplier}} </td>
            <td> {{part.item_description}} </td>
            <td> {{part.CPN}} </td>
            <td> {{part.PID}} </td>
            <td> {{part.manufacturer_part_num}} </td>
            <td> {{part.qty}}</td>
            {% if part.times_used == '0' %}
              <td> {{part.times_used}} </td>
            {% else %}
              <td><a href="{{ url_for('show_history', serialNumber=part.id) }}">{{part.times_used}}</a></td>
            {% endif %}
            <td> {{part.status}} </td>
        </tr>
   {% else %}
     <em>Database is empty</em>
   {% endfor %}

   </table>
{% endblock %}

